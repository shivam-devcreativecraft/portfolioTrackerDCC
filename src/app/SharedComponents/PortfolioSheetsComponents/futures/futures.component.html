<div class="total-stats-div p-3 mt-3" >
  <!-- <hr><hr> -->
  <!-- <p>shared futures component app-futures</p> -->
  <!-- <hr><hr> -->
  <h1 class="box-title">Total Stats</h1>
    <div class="loader-div  d-flex justify-content-center align-items-center flex-column"
      *ngIf="!IsSelectedSheetDataLoaded">
      <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
      <span class="pt-2">Loading ...</span>

  
    </div>
  
 
   <div class="row" style="margin-top: -20px" *ngIf="IsSelectedSheetDataLoaded">
    <div class="col-lg-6 col-12   total-stats-inner-div d-flex justify-content-between align-items-start flex-column">
      <div class="card p-0" style="width: 100%">
        <div class="card-body">




          <div class="row ">
            <h2 class="card-title">Total PNL</h2>
            <div class="row d-flex flex-row justify-content-center" style="margin-top:-15px">

              <div class="col-6  inner-div">

                <h1 class="card-text text-success" style="font-weight: 600"
                  [ngClass]="{'text-success' : columnTotals.Pnl_USDT>0 , 'text-danger' : columnTotals.Pnl_USDT<0}">
                  <sub>₮</sub> {{ columnTotals.Pnl_USDT | number : "1.0-3" }}

                </h1>
                <h5>USDT</h5>
              </div>
              <div class="col-6  inner-div">

                <h1 class="card-text text-success" style="font-weight: 600"
                  [ngClass]="{'text-success' : columnTotals.Pnl_USDT>0 , 'text-danger' : columnTotals.Pnl_USDT<0}">
                  <sub>₹</sub> {{ (columnTotals.Pnl_USDT)*90 | number : "1.0-3" }}
                </h1>
                <h5>INR</h5>
              </div>
            </div>
          </div>


        </div>
      </div>
    </div>







    <div class="col-lg-6 col-12   total-stats-inner-div d-flex justify-content-between align-items-start flex-column">
      <div class="card p-0" style="width: 100%">
          <div class="card-body">


              <div class="row ">
                <h2 class="card-title"> Profit</h2>

                  <div class="row d-flex flex-row justify-content-center" style="margin-top:-15px">

                      <div class="col-6  inner-div">

                          <h1 class="card-text text-success" style="font-weight: 600">
                              <sub>₮</sub> {{ columnTotals.TotalProfit | number : "1.0-3" }}

                          </h1>
                          <h5>USDT</h5>
                      </div>
                      <div class="col-6  inner-div">

                          <h1 class="card-text text-success" style="font-weight: 600">
                              <sub>₹</sub> {{ (columnTotals.TotalProfit)*90 | number : "1.0-3" }}
                          </h1>
                          <h5>INR</h5>
                      </div>
                  </div>
              </div>

          </div>
      </div>
  </div>


  <div class="col-lg-6 col-12   total-stats-inner-div d-flex justify-content-between align-items-start flex-column">
    <div class="card p-0" style="width: 100%">
        <div class="card-body">


            <div class="row ">
              <h2 class="card-title"> Loss</h2>

                <div class="row d-flex flex-row justify-content-center" style="margin-top:-15px">

                    <div class="col-6  inner-div">

                        <h1 class="card-text text-danger" style="font-weight: 600">
                            <sub>₮</sub> {{ columnTotals.TotalLoss | number : "1.0-3" }}

                        </h1>
                        <h5>USDT</h5>
                    </div>
                    <div class="col-6  inner-div">

                        <h1 class="card-text text-danger" style="font-weight: 600">
                            <sub>₹</sub> {{ (columnTotals.TotalLoss)*90 | number : "1.0-3" }}
                        </h1>
                        <h5>INR</h5>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>






    <div class="col-lg-6 col-12   total-stats-inner-div d-flex justify-content-between align-items-start flex-column">
      <div class="card p-0" style="width: 100%">
          <div class="card-body">
  
  
              <div class="row ">
                <h2 class="card-title">Total BUY | SELL Trades </h2>

  
                  <div class="row d-flex flex-row justify-content-center" style="margin-top:-15px">
  
                      <div class="col-6  inner-div">
  
                          <h1 class="card-text text-success" style="font-weight: 600">
                              <sub>&nbsp;</sub> {{ columnTotals.TotalBuyTrades  }}
  
                          </h1>
                          <h5>BUY</h5>
                      </div>
                      <div class="col-6  inner-div">
  
                          <h1 class="card-text text-danger" style="font-weight: 600">
                              <sub>&nbsp;</sub> {{ (columnTotals.TotalSellTrades)}}
                          </h1>
                          <h5>SELL</h5>
                      </div>
                  </div>
              </div>
  
          </div>
      </div>
  </div>












    <div class="col-lg-6 col-12   total-stats-inner-div d-flex justify-content-between align-items-start flex-column">
      <div class="card p-0" style="width: 100%">
          <div class="card-body">
  
  
              <div class="row ">
                <h2 class="card-title">Total Trades</h2>

  
                  <div class="row d-flex flex-row justify-content-center" style="margin-top:-15px">
  
                      <div class="col-12  inner-div">
  
                          <h1 class="card-text text-danger" style="font-weight: 600"
                          [ngClass]="{'text-success':columnTotals.TotalBuyTrades>columnTotals.TotalSellTrades, 'text-danger':columnTotals.TotalBuyTrades<columnTotals.TotalSellTrades}"
                          >
                              <sub>&nbsp;</sub> {{ columnTotals.TotalTrades }}
  
                          </h1>
                          <h5>TRADES</h5>
                      </div>
                     
                  </div>
              </div>
  
          </div>
      </div>
  </div>






    <div class="col-lg-6 col-12   total-stats-inner-div d-flex justify-content-between align-items-start flex-column">
      <div class="card p-0" style="width: 100%">
          <div class="card-body">
  
  
              <div class="row ">
                <h2 class="card-title">Trades Winning | Loosing</h2>


  
                  <div class="row d-flex flex-row justify-content-center" style="margin-top:-15px">
  
                      <div class="col-6  inner-div">
  
                          <h1 class="card-text text-success" style="font-weight: 600">
                              <sub>&nbsp;</sub> {{ columnTotals.TotalProfitTrades  }}
  
                          </h1>
                          <h5>WIN</h5>
                      </div>
                      <div class="col-6  inner-div">
  
                          <h1 class="card-text text-danger" style="font-weight: 600">
                              <sub>&nbsp;</sub> {{ (columnTotals.TotalLossTrades)}}
                          </h1>
                          <h5>LOSS</h5>
                      </div>
                  </div>
              </div>
  
          </div>
      </div>
  </div>







    <div class="col-lg-6 col-12   total-stats-inner-div d-flex justify-content-between align-items-start flex-column">
      <div class="card p-0" style="width: 100%">
          <div class="card-body">
  
  
              <div class="row ">
                <h2 class="card-title">Top Coin </h2>



  
                  <div class="row d-flex flex-row justify-content-center" style="margin-top:-15px">
  
                      <div class="col-6  inner-div">
  
                          <h1 class="card-text text-success" style="font-weight: 600">
                              <sub>&nbsp;</sub> {{ columnTotals.MostFrequentTradingPair  }}
  
                          </h1>
                          <h5>COIN</h5>
                      </div>
                      <div class="col-6  inner-div">
  
                          <h1 class="card-text text-success" style="font-weight: 600">
                              <sub>&nbsp;</sub> {{ (columnTotals.HighestCount)}}
                          </h1>
                          <h5>TRADES</h5>
                      </div>
                  </div>
              </div>
  
          </div>
      </div>
  </div>





    <div class="col-lg-6 col-12   total-stats-inner-div d-flex justify-content-between align-items-start flex-column">
      <div class="card p-0" style="width: 100%">
          <div class="card-body">
  
  
              <div class="row ">
                <h2 class="card-title">Most Traded Direction </h2>




  
                  <div class="row d-flex flex-row justify-content-center" style="margin-top:-15px">
  
                      <div class="col-6  inner-div">
  
                          <h1 class="card-text" style="font-weight: 600"
                          [ngClass]="{'text-danger' : columnTotals.MostTradedDirection=='SELL/SHORT', 'text-success':columnTotals.MostTradedDirection=='BUY/LONG'}"
                          >
                              <sub>&nbsp;</sub> {{ columnTotals.MostTradedDirection  }}
  
                          </h1>
                          <h5>SIDE</h5>
                      </div>
                      <div class="col-6  inner-div">
  
                          <h1 class="card-text " style="font-weight: 600"
                          [ngClass]="{'text-danger' : columnTotals.MostTradedDirection=='SELL/SHORT', 'text-success':columnTotals.MostTradedDirection=='BUY/LONG'}"
                          >
                              <sub>&nbsp;</sub> {{ (columnTotals.MostTradedDirectionTrades)}}
                          </h1>
                          <h5>TRADES</h5>
                      </div>
                  </div>
              </div>
  
          </div>
      </div>
  </div>


  </div>


















</div>
              
  
  <div class="spacer-20"></div>
  
  <div class="history-div p-3 mt-3">

    <h1 class="box-title">Order History</h1>
  
    <mat-form-field appearance="outline" floatLabel="always" >
  
      <mat-label>Filter Table</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Search" #input />
    </mat-form-field>
    <div style="overflow-x:  auto; " class="example-container">
      <ng-container class="table-div">
        <!-- trading-setup.component.html -->
               
        <div class="mat-elevation-z8 example-table-container">
          <table mat-table [dataSource]="dataSource" matSort matSortActive="Open_Date" matSortDirection="desc"
            class="mat-elevation-z8">
  
            <!-- Define columns -->
            <ng-container matColumnDef="Open_Date" >
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Open_Date </th>
              <td mat-cell *matCellDef="let element" style="font-weight: 600;"> {{ element.Open_Date }} </td>
            </ng-container>
  
            <ng-container matColumnDef="Trading_Pair">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Trading_Pair </th>
              <td mat-cell *matCellDef="let element" style="font-weight: 600;"> {{ element.Trading_Pair }} </td>
            </ng-container>
  
            <ng-container matColumnDef="Direction">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Direction </th>
              <td mat-cell *matCellDef="let element" style="font-weight: 600;"
                [ngClass]="{'text-success': element.Direction == 'BUY', 'text-danger': element.Direction == 'SELL'}"> {{
                element.Direction }} </td>
            </ng-container>
  
            <ng-container matColumnDef="Leverage">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Leverage </th>
              <td mat-cell *matCellDef="let element"> {{ element.Leverage }}✘ </td>
            </ng-container>
            <ng-container matColumnDef="Entry_Price">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Entry_Price </th>
              <td mat-cell *matCellDef="let element"> <span class="text-success " style="font-weight: 600;">₮ </span>{{
                element.Entry_Price }} </td>
            </ng-container>
            <ng-container matColumnDef="Exit_Price">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Exit_Price </th>
              <td mat-cell *matCellDef="let element"> <span *ngIf="element.Exit_Price" class="text-success "
                  style="font-weight: 600;">₮ </span>{{ element.Exit_Price }} </td>
            </ng-container>
            <ng-container matColumnDef="Pnl_USDT">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Pnl_USDT </th>
              <td mat-cell *matCellDef="let element" style="font-weight: 600;"
                [ngClass]="{'text-success': element.Pnl_USDT > 0, 'text-danger': element.Pnl_USDT < 0, 'text-secondary' : element.Pnl_USDT == 0 }">
                <span *ngIf="element.Pnl_USDT">$</span> {{ element.Pnl_USDT }}</td>
            </ng-container>
            <ng-container matColumnDef="Pnl_Percentage">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Pnl_Percentage </th>
              <td mat-cell *matCellDef="let element" style="font-weight: 600;"
                [ngClass]="{'text-success': element.Pnl_Percentage > 0, 'text-danger': element.Pnl_Percentage < 0, 'text-secondary' : element.Pnl_Percentage == 0 }">
                {{ element.Pnl_Percentage }} <span *ngIf="element.Pnl_Percentage"> &#65130;</span></td>
            </ng-container>
            <ng-container matColumnDef="Close_Date">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Close_Date </th>
              <td mat-cell *matCellDef="let element" style="font-weight: 600;"> {{ element.Close_Date }} </td>
            </ng-container>
  
  
            <!-- Actions column with Edit and Delete buttons -->
            <ng-container matColumnDef="actions" sticky>
              <th mat-header-cell *matHeaderCellDef> Actions </th>
              <td mat-cell *matCellDef="let element">
                <button mat-icon-button (click)="editItem(element)">
                  <mat-icon class="text-warning">edit</mat-icon>
                </button>
                <button mat-icon-button (click)="deleteEntry(element.ID, element)">
                  <mat-icon class="text-danger">delete</mat-icon>
                </button>
  
  
              </td>
            </ng-container>
  
            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky:true"  class="table-header" >
            </tr>
  
            <tr mat-row *matRowDef="let row; columns: displayedColumns;let odd = odd; " [class.striped-row]="odd"></tr>
  
          </table>
  
          <!-- Pagination -->
          <div class="loader-div  d-flex justify-content-center align-items-center flex-column"
            *ngIf="!IsSelectedSheetDataLoaded">
            <div class="spinner-border" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
        <span class="pt-2">Loading ...</span>

      
          </div>
        </div>
        <!-- <app-new></app-new> -->
      </ng-container>
  
    </div>
    <mat-paginator [pageSizeOptions]="[ 5, pageSizeOptions]" showFirstLastButtons></mat-paginator>
  
  
  </div>