<div class="total-stats-div p-3 mt-3" >

  <h1 class="box-title">Total Stats</h1>

    <div class="loader-div  d-flex justify-content-center align-items-center flex-column"
    *ngIf="!IsSelectedSheetDataLoaded">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <span class="pt-2">Loading ...</span>

  
  </div>
  
  
  <div class="row"  style="margin-top: -20px"  *ngIf="IsSelectedSheetDataLoaded">
    <div class="col-lg-6 col-12   total-stats-inner-div d-flex justify-content-between align-items-start flex-column">
      <div class="card p-0" style="width: 100%">
          <div class="card-body">


              <div class="row ">
                  <h2 class="card-title">Total Deposit</h2>
                  <div class="row d-flex flex-row justify-content-center" style="margin-top:-15px">

                      <div class="col-6  inner-div">

                          <h1 class="card-text text-success" style="font-weight: 600">
                              <sub>₮</sub> {{ columnTotals.TotalBuyUSDT | number : "1.0-2" }}

                          </h1>
                          <h5>USDT</h5>
                      </div>
                      <div class="col-6  inner-div">

                          <h1 class="card-text text-success" style="font-weight: 600">
                              <sub>₹</sub> {{ (columnTotals.TotalBuyINR) | number : "1.0-2" }}
                          </h1>
                          <h5>INR</h5>
                      </div>
                  </div>
              </div>

          </div>
      </div>
  </div>
  
  <div class="col-lg-6 col-12   total-stats-inner-div d-flex justify-content-between align-items-start flex-column">
    <div class="card p-0" style="width: 100%">
        <div class="card-body">


            <div class="row ">
                <h2 class="card-title">Total Withdraw</h2>
                <div class="row d-flex flex-row justify-content-center" style="margin-top:-15px">

                    <div class="col-6  inner-div">

                        <h1 class="card-text text-success" style="font-weight: 600">
                            <sub>₮</sub> {{ columnTotals.TotalSellUSDT | number : "1.0-2" }}

                        </h1>
                        <h5>USDT</h5>
                    </div>
                    <div class="col-6  inner-div">

                        <h1 class="card-text text-success" style="font-weight: 600">
                            <sub>₹</sub> {{ (columnTotals.TotalSellINR) | number : "1.0-2" }}
                        </h1>
                        <h5>INR</h5>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>


<div class="col-lg-6 col-12   total-stats-inner-div d-flex justify-content-between align-items-start flex-column">
  <div class="card p-0" style="width: 100%">
      <div class="card-body">


          <div class="row ">
              <h2 class="card-title">Total BUY | SELL Trades</h2>
              <div class="row d-flex flex-row justify-content-center" style="margin-top:-15px">

                  <div class="col-6  inner-div">

                      <h1 class="card-text text-success" style="font-weight: 600">
                          <sub>₮</sub> {{ columnTotals.TotalBuyTrades  }}

                      </h1>
                      <h5>BUY TRADES</h5>
                  </div>
                  <div class="col-6  inner-div">

                      <h1 class="card-text text-success" style="font-weight: 600">
                          <sub>₹</sub> {{ (columnTotals.TotalSellTrades) }}
                      </h1>
                      <h5>SELL TRADES</h5>
                  </div>
              </div>
          </div>

      </div>
  </div>
</div>


<div class="col-lg-6 col-12   total-stats-inner-div d-flex justify-content-between align-items-start flex-column">
  <div class="card p-0" style="width: 100%">
      <div class="card-body">


          <div class="row ">
              <h2 class="card-title">Balance</h2>
              <div class="row d-flex flex-row justify-content-center" style="margin-top:-15px">

                  <div class="col-6  inner-div">

                      <h1 class="card-text text-success" style="font-weight: 600">
                          <sub>₮</sub> {{ columnTotals.BalanceUSDT | number : "1.0-2" }}

                      </h1>
                      <h5>USDT</h5>
                  </div>
                  <div class="col-6  inner-div">

                      <h1 class="card-text text-success" style="font-weight: 600">
                          <sub>₹</sub> {{ (columnTotals.BalanceINR) | number : "1.0-2" }}
                      </h1>
                      <h5>INR</h5>
                  </div>
              </div>
          </div>

      </div>
  </div>
</div>


  
  
  
  
  
     
  
  
  
  
  
  
  
  
  
  
  
  
    </div>
  
  
  </div>
  
  
  <div class="spacer-20"></div>
 

<div class="history-div p-3 mt-3">

  <h1 class="box-title">Order History</h1>

  <mat-form-field appearance="outline" floatLabel="always" >
  
    <mat-label>Filter Table</mat-label>
    <input matInput (keyup)="applyFilter($event)" placeholder="Search" #input />
  </mat-form-field>
  
  <div style="overflow-x:  auto; " class="example-container">
  
  
  <ng-container class="table-div">
      <!-- trading-setup.component.html -->
   
        
      <div class="mat-elevation-z8 example-table-container">
  
          <table mat-table [dataSource]="dataSource" matSort matSortActive="Date" matSortDirection="desc" class="mat-elevation-z8">
        
            <!-- Define columns -->
            <ng-container matColumnDef="Date">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Date </th>
              <td mat-cell *matCellDef="let element"      style="font-weight: 600;"> {{ element.Date }} </td>
            </ng-container>
        
            <ng-container matColumnDef="Order_Type">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Order_Type </th>
              <td mat-cell *matCellDef="let element"
              style="font-weight: 600;"
              [ngClass]="{'text-success' : element.Order_Type== 'BUY', 'text-danger':element.Order_Type== 'SELL'}"
            
              > {{ element.Order_Type }} </td>
            </ng-container>
        
            <ng-container matColumnDef="Price">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Price </th>
              <td mat-cell *matCellDef="let element"
              
              [ngClass]="{'text-success' : element.Order_Type== 'BUY', 'text-danger':element.Order_Type== 'SELL'}"
            > <span style="font-weight: 600;">₹</span> {{ element.Price }} </td>
            </ng-container>

            <ng-container matColumnDef="Amount_USDT">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Amount_USDT </th>
              <td mat-cell *matCellDef="let element"
              style="font-weight: 600;"
              [ngClass]="{'text-success' : element.Order_Type== 'BUY', 'text-danger':element.Order_Type== 'SELL'}"
            ><span style="font-weight: 600;" >₮ </span> {{ element.Amount_USDT }} </td>
            </ng-container>
        
            <ng-container matColumnDef="Amount_INR">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Amount_INR </th>
              <td mat-cell *matCellDef="let element"
              style="font-weight: 600;"
              [ngClass]="{'text-success' : element.Order_Type== 'BUY', 'text-danger':element.Order_Type== 'SELL'}"
            > ₹ {{ element.Amount_INR }} </td>
            </ng-container>
          
            <ng-container matColumnDef="Notes">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Notes</th>
              <td mat-cell *matCellDef="let element" class="" style="font-weight: 600" matTooltip="{{ element.Notes }}">
                {{ element.Notes ? (element.Notes?.slice(0,12)) : '-' }}<span *ngIf="element.Notes?.length > 12">...</span>
              </td>
            </ng-container>
            
            <!-- Actions column with Edit and Delete buttons -->
            <ng-container matColumnDef="actions">
              <th mat-header-cell *matHeaderCellDef> Actions </th>
              <td mat-cell *matCellDef="let element">
                <button mat-icon-button (click)="editItem(element)">
                  <mat-icon class="text-warning">edit</mat-icon>
                </button>
                <button mat-icon-button (click)="deleteEntry(element.ID, element)">
                  <mat-icon class="text-danger">delete</mat-icon>
                </button>
    
    
              </td>
            </ng-container>
    
        
            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky:true"  class="table-header" ></tr>
  
            <tr mat-row *matRowDef="let row; columns: displayedColumns;let odd = odd; " [class.striped-row]="odd"></tr>
  
          </table>
        
          <!-- Pagination -->
          <div class="loader-div  d-flex justify-content-center align-items-center flex-column"
            *ngIf="!IsSelectedSheetDataLoaded">
            <div class="spinner-border" role="status">
              <span class="visually-hidden">Loading...</span>
            </div>
        <span class="pt-2">Loading ...</span>

      
          </div>
        </div>
        <!-- <app-new></app-new> -->
      </ng-container>
    </div>
    <mat-paginator [pageSizeOptions]="[ 5, pageSizeOptions]" showFirstLastButtons></mat-paginator>
  
  </div>